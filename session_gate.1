.\"	$Source: /afs/dev.mit.edu/source/repository/athena/bin/session/session_gate.1,v $
.\"	$Header: /afs/dev.mit.edu/source/repository/athena/bin/session/session_gate.1,v 1.1 1990-11-30 17:57:29 probe Exp $
.\"	$Author: probe $
.\"
.TH SESSION_GATE 1 "5 August 1989"
.ds ]W MIT Project Athena
.SH NAME
session_gate, end_session \- control lifetime of a session

.SH SYNOPSIS
.nf
session_gate
end_session [ -force | -f ]
.fi
.SH DESCRIPTION

\fISession_gate\fR is a process that has the sole purpose of preventing a
session file from exiting.  Normally, \fIsession_gate\fR appears at or near
the end of a session file used by \fIxlogin\fR(1).  When used in this
fashion, \fIsession_gate\fR should not be run in the background.

\fIEnd_session\fR is a command that attempts to send a hangup signal to
each \fIsession_gate\fR process that is running.  Normally, the user
invokes \fIend_session\fR to indicate that the current session is to be
terminated.  The \fIlogout\fR can be aliased (in the shell) to invoke
\fIend_session\fR, for example.

\fIEnd_session\fR determines the process id of each \fIsession_gate\fR
process by reading the file /tmp/session_gate_pid.\fIuid\fR, where
\fIuid\fR is the user's uid number.  If the \fI-force\fR or \fI-f\fR option
is specified, then a combination of \fIps\fR(1) and \fIawk\fR(1) is used
for determining the process id's.

.SH DIAGNOSTICS

\fISession_gate\fR always exits with status 0.

\fIEnd_session\fR will exit with one of the following status values:
.TP 5
0
No error encountered.
.TP 5
1
Bad arguments.
.TP 5
2
No \fIsession_gate\fR processes found (\fI-force\fR or \fI-f\fR option).
.TP 5
3
The file /tmp/session_gate_pid.\fIuid\fR does not exist or is not readable.
.TP 5
4
The file /tmp/session_gate_pid.\fIuid\fR has been modified.
.PP

.SH FILES
/tmp/session_gate_pid.\fIuid\fR

.SH "SEE ALSO"
\fIxlogin\fR(1)

.SH AUTHOR
.nf
David J Flanagan, John E Elsbree
MIT Project Athena
Copyright 1989, Massachusetts Institute of Technology
.fi

.SH BUGS
The \fI-force\fR (\fI-f\fR) option is, admittedly, a kludge.  It is very
dependent on the format of the output produced by \fIps\fR(1).
